<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kiosk Premium - SARA Pay</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        /* Animacja zbliżania telefonu */
        @keyframes nfc-pay {
            0% { transform: translateY(100px) rotate(-10deg); opacity: 0; }
            50% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-40px) scale(1.1); opacity: 0; }
        }
        .phone-animation { animation: nfc-pay 2s infinite; }

        .slide-up-enter-active, .slide-up-leave-active { transition: all 0.5s cubic-bezier(0.32, 0.72, 0, 1); }
        .slide-up-enter-from, .slide-up-leave-to { transform: translateY(100%); }

        .terminal-glow { box-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
    </style>
</head>
<body class="h-screen w-screen overflow-hidden bg-zinc-900 select-none">

    <div id="app" class="h-full w-full font-sans">

        <transition name="fade">
            <div v-if="screen === 'welcome'" 
                 class="absolute inset-0 z-[100] bg-gradient-to-br from-red-600 to-red-800 flex flex-col items-center justify-center text-white"
                 @click="startOrder">
                <div class="relative mb-12 animate__animated animate__zoomIn">
                    <div class="absolute -inset-4 bg-white/20 blur-xl rounded-full animate-pulse"></div>
                    <i class="fas fa-burger text-9xl relative"></i>
                </div>
                <h1 class="text-7xl font-black italic tracking-tighter mb-4">SZYBKI KĘS</h1>
                <p class="text-xl font-light tracking-widest opacity-80 uppercase">Dotknij, aby zacząć ucztę</p>
                
                <div class="mt-20 flex gap-4">
                    <div class="flex items-center gap-2 bg-black/20 px-4 py-2 rounded-full border border-white/10">
                        <i class="fas fa-mobile-alt"></i> <span>SARA Pay Ready</span>
                    </div>
                </div>
            </div>
        </transition>

        <div class="h-full flex flex-col bg-white">
            <header class="h-24 px-10 flex items-center justify-between border-b shrink-0">
                <div class="flex items-center gap-6">
                    <img src="https://ui-avatars.com/api/?name=SARA&background=ef4444&color=fff" class="w-12 h-12 rounded-xl shadow-lg" alt="SARA Logo">
                    <div class="text-2xl font-black text-zinc-800">SARA <span class="text-red-600">KIOSK</span></div>
                </div>
                <div class="flex gap-4">
                    <div class="bg-zinc-100 p-4 rounded-2xl flex items-center gap-3">
                        <i class="fas fa-map-marker-alt text-red-500"></i>
                        <span class="font-bold uppercase text-xs tracking-wider">Stolik nr 12</span>
                    </div>
                </div>
            </header>

            <div class="flex-1 flex overflow-hidden">
                <aside class="w-32 flex flex-col border-r bg-zinc-50 overflow-y-auto no-scrollbar py-4">
                    <div v-for="cat in categories" :key="cat.id" 
                         @click="activeCategory = cat.id"
                         :class="['flex flex-col items-center py-6 cursor-pointer transition-all', 
                                  activeCategory === cat.id ? 'text-red-600 bg-white border-r-4 border-red-600' : 'text-zinc-400']">
                        <i :class="[cat.icon, 'text-3xl mb-2']"></i>
                        <span class="text-[10px] font-black uppercase tracking-tighter">{{ cat.name }}</span>
                    </div>
                </aside>

                <main class="flex-1 p-8 overflow-y-auto no-scrollbar grid grid-cols-2 gap-6 content-start pb-40">
                    <div v-for="product in filteredProducts" :key="product.id" 
                         @click="openProductModal(product)"
                         class="group relative bg-white border border-zinc-100 p-6 rounded-[2.5rem] shadow-sm active:scale-95 transition-all">
                        <div class="h-44 bg-zinc-50 rounded-3xl mb-4 flex items-center justify-center relative overflow-hidden">
                            <i :class="[product.icon, 'text-7xl text-zinc-200 group-hover:scale-110 transition-transform']"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-zinc-800">{{ product.name }}</h3>
                        <div class="flex justify-between items-center mt-2">
                            <span class="text-zinc-400 font-medium">{{ product.kcal }} kcal</span>
                            <span class="text-2xl font-black text-zinc-900">{{ product.price.toFixed(2) }} zł</span>
                        </div>
                    </div>
                </main>
            </div>

            <footer class="h-28 px-10 flex items-center justify-between border-t bg-white shadow-2xl z-20">
                <div @click="isCartOpen = true" class="cursor-pointer">
                    <p class="text-zinc-400 text-xs font-bold uppercase tracking-widest">Twoja suma</p>
                    <p class="text-4xl font-black">{{ cartTotal.toFixed(2) }} zł</p>
                </div>
                <button @click="isCartOpen = true" 
                        class="bg-zinc-900 text-white px-10 py-5 rounded-3xl font-black text-xl flex items-center gap-4 hover:bg-red-600 transition-colors">
                    ZAMÓWIENIE ({{ cartCount }})
                </button>
            </footer>
        </div>

        <transition name="slide-up">
            <div v-if="screen === 'payment'" class="fixed inset-0 z-[110] bg-zinc-900/95 backdrop-blur-xl flex flex-col items-center justify-center text-white">
                
                <div class="w-72 h-[450px] bg-zinc-800 rounded-[3rem] border-4 border-zinc-700 relative flex flex-col items-center p-6 shadow-2xl overflow-hidden">
                    <div class="w-32 h-2 bg-zinc-700 rounded-full mb-8"></div>
                    
                    <div class="text-center mb-10">
                        <p class="text-zinc-500 text-xs uppercase font-bold tracking-widest mb-2">Do zapłaty</p>
                        <p class="text-4xl font-black">{{ cartTotal.toFixed(2) }} zł</p>
                    </div>

                    <div class="w-full aspect-square border-2 border-dashed border-zinc-600 rounded-full flex flex-col items-center justify-center relative mb-8">
                        <i class="fas fa-wifi text-4xl text-blue-400 rotate-90 animate-pulse"></i>
                        <p class="text-[10px] text-zinc-500 mt-2">ZBLIŻ TELEFON</p>
                    </div>

                    <div class="absolute bottom-[-20px] phone-animation text-white flex flex-col items-center">
                         <div class="w-40 h-80 bg-zinc-900 border-2 border-white/20 rounded-3xl p-4 flex flex-col shadow-2xl">
                             <div class="w-full h-24 bg-red-600 rounded-xl mb-2 flex items-center justify-center text-2xl font-black italic">SARA</div>
                             <div class="w-full h-4 bg-white/10 rounded mb-2"></div>
                             <div class="w-1/2 h-4 bg-white/10 rounded"></div>
                         </div>
                    </div>

                    <div class="mt-auto flex gap-2">
                        <div class="w-2 h-2 rounded-full bg-blue-500 animate-bounce"></div>
                        <div class="w-2 h-2 rounded-full bg-blue-500 animate-bounce" style="animation-delay: 0.2s"></div>
                        <div class="w-2 h-2 rounded-full bg-blue-500 animate-bounce" style="animation-delay: 0.4s"></div>
                    </div>
                </div>

                <p class="mt-12 text-2xl font-bold">Płacisz systemem <span class="text-red-500 uppercase italic">Sara Pay</span></p>
                <button @click="confirmPayment" class="mt-8 text-zinc-500 hover:text-white underline">Anuluj płatność</button>
            </div>
        </transition>

        <transition name="fade">
            <div v-if="screen === 'success'" class="fixed inset-0 z-[120] bg-green-500 flex flex-col items-center justify-center text-white text-center">
                <i class="fas fa-check-circle text-9xl mb-6 animate__animated animate__bounceIn"></i>
                <h2 class="text-6xl font-black mb-2">GOTOWE!</h2>
                <p class="text-2xl opacity-80 mb-12">Płatność SARA zaakceptowana</p>
                <div class="bg-white text-green-600 px-10 py-6 rounded-3xl text-4xl font-black shadow-2xl">
                    NR #{{ Math.floor(Math.random()*100) }}
                </div>
                <button @click="resetKiosk" class="mt-12 opacity-60 font-bold border-b border-white">Zakończ</button>
            </div>
        </transition>

        <transition name="slide-up">
            <div v-if="isCartOpen" class="fixed inset-0 z-50 flex items-end justify-center bg-black/40 backdrop-blur-md" @click.self="isCartOpen = false">
                <div class="bg-white w-full max-w-xl rounded-t-[3rem] p-10 flex flex-col shadow-2xl max-h-[80vh]">
                    <div class="flex justify-between items-center mb-8">
                        <h2 class="text-3xl font-black">Twoja Taca</h2>
                        <button @click="isCartOpen = false" class="text-zinc-400"><i class="fas fa-times text-2xl"></i></button>
                    </div>
                    
                    <div class="flex-1 overflow-y-auto no-scrollbar space-y-4">
                        <div v-for="(item, i) in cart" class="flex justify-between items-center p-4 bg-zinc-50 rounded-2xl">
                            <div class="flex items-center gap-4">
                                <i :class="[item.icon, 'text-2xl text-red-500']"></i>
                                <span class="font-bold">{{ item.name }}</span>
                            </div>
                            <span class="font-black">{{ item.finalPrice.toFixed(2) }} zł</span>
                        </div>
                    </div>

                    <div class="pt-8 mt-4 border-t border-dashed">
                        <button @click="goToPayment" class="w-full bg-red-600 text-white py-6 rounded-3xl text-2xl font-black flex justify-between px-10 items-center hover:bg-red-700 transition">
                            <span>ZAPŁAĆ SARA PAY</span>
                            <span>{{ cartTotal.toFixed(2) }} zł</span>
                        </button>
                    </div>
                </div>
            </div>
        </transition>

    </div>

    <script>
        const { createApp } = Vue;
        createApp({
            data() {
                return {
                    screen: 'welcome',
                    activeCategory: 'burgery',
                    isCartOpen: false,
                    cart: [],
                    categories: [
                        { id: 'burgery', name: 'Burgery', icon: 'fas fa-hamburger' },
                        { id: 'dodatki', name: 'Dodatki', icon: 'fas fa-pepper-hot' },
                        { id: 'napoje', name: 'Napoje', icon: 'fas fa-glass-water' }
                    ],
                    products: [
                        { id: 1, category: 'burgery', name: 'Master Bacon', price: 24.90, kcal: 820, icon: 'fas fa-bacon' },
                        { id: 2, category: 'burgery', name: 'Spicy Sara', price: 21.00, kcal: 640, icon: 'fas fa-fire' },
                        { id: 3, category: 'dodatki', name: 'Frytki Duże', price: 9.90, kcal: 450, icon: 'fas fa-box-tissue' },
                        { id: 4, category: 'napoje', name: 'Sok SARA', price: 7.00, kcal: 120, icon: 'fas fa-apple-whole' }
                    ]
                }
            },
            computed: {
                filteredProducts() { return this.products.filter(p => p.category === this.activeCategory); },
                cartCount() { return this.cart.length; },
                cartTotal() { return this.cart.reduce((s, i) => s + i.finalPrice, 0); }
            },
            methods: {
                startOrder() { this.screen = 'menu'; },
                openProductModal(p) {
                    this.cart.push({...p, finalPrice: p.price}); // Uproszczone dodawanie
                },
                goToPayment() {
                    if (this.cart.length === 0) return;
                    this.isCartOpen = false;
                    this.screen = 'payment';
                    // Automatyczna symulacja płatności po 3 sekundach
                    setTimeout(() => { this.confirmPayment(); }, 3500);
                },
                confirmPayment() { this.screen = 'success'; },
                resetKiosk() {
                    this.cart = [];
                    this.screen = 'welcome';
                    this.isCartOpen = false;
                }
            }
        }).mount('#app');
    </script>
</body>
</html>
